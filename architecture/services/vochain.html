<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vochain | Vocdoni</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="A decentralized self sovereign governance platform">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.b4782a24.css" as="style"><link rel="preload" href="/assets/js/app.003a3fab.js" as="script"><link rel="preload" href="/assets/js/2.d75a9e61.js" as="script"><link rel="preload" href="/assets/js/33.ee83017b.js" as="script"><link rel="prefetch" href="/assets/js/10.7d736aa9.js"><link rel="prefetch" href="/assets/js/11.24f4b6a1.js"><link rel="prefetch" href="/assets/js/12.fbc7926a.js"><link rel="prefetch" href="/assets/js/13.1d48d867.js"><link rel="prefetch" href="/assets/js/14.f1695afd.js"><link rel="prefetch" href="/assets/js/15.fd5bd6ca.js"><link rel="prefetch" href="/assets/js/16.7848fcf4.js"><link rel="prefetch" href="/assets/js/17.a09d0fce.js"><link rel="prefetch" href="/assets/js/18.2d6d7bd0.js"><link rel="prefetch" href="/assets/js/19.7ca86ba4.js"><link rel="prefetch" href="/assets/js/20.7610a2ee.js"><link rel="prefetch" href="/assets/js/21.a33e4585.js"><link rel="prefetch" href="/assets/js/22.cdbbe0cb.js"><link rel="prefetch" href="/assets/js/23.daf8da8a.js"><link rel="prefetch" href="/assets/js/24.33f4a899.js"><link rel="prefetch" href="/assets/js/25.ca7b1363.js"><link rel="prefetch" href="/assets/js/26.00dda6a7.js"><link rel="prefetch" href="/assets/js/27.9643f5df.js"><link rel="prefetch" href="/assets/js/28.95fc6467.js"><link rel="prefetch" href="/assets/js/29.6d11f8e1.js"><link rel="prefetch" href="/assets/js/3.87bd6438.js"><link rel="prefetch" href="/assets/js/30.5f4b8604.js"><link rel="prefetch" href="/assets/js/31.57338027.js"><link rel="prefetch" href="/assets/js/32.c6e6f766.js"><link rel="prefetch" href="/assets/js/34.9adc375a.js"><link rel="prefetch" href="/assets/js/35.5a5f7bb7.js"><link rel="prefetch" href="/assets/js/36.e2545582.js"><link rel="prefetch" href="/assets/js/37.0eb8cc70.js"><link rel="prefetch" href="/assets/js/38.84124562.js"><link rel="prefetch" href="/assets/js/39.bf4aa161.js"><link rel="prefetch" href="/assets/js/4.6ba5942f.js"><link rel="prefetch" href="/assets/js/40.11b0e7ee.js"><link rel="prefetch" href="/assets/js/41.e727669e.js"><link rel="prefetch" href="/assets/js/42.995b740c.js"><link rel="prefetch" href="/assets/js/43.6a147059.js"><link rel="prefetch" href="/assets/js/44.a2bf17a5.js"><link rel="prefetch" href="/assets/js/45.3ff1d0d1.js"><link rel="prefetch" href="/assets/js/46.c84ab2db.js"><link rel="prefetch" href="/assets/js/47.b5fc1bda.js"><link rel="prefetch" href="/assets/js/48.87932f25.js"><link rel="prefetch" href="/assets/js/49.1b5e3ca0.js"><link rel="prefetch" href="/assets/js/5.0c02ed2b.js"><link rel="prefetch" href="/assets/js/50.0c49f3da.js"><link rel="prefetch" href="/assets/js/51.05425652.js"><link rel="prefetch" href="/assets/js/52.51995a7a.js"><link rel="prefetch" href="/assets/js/53.cd441341.js"><link rel="prefetch" href="/assets/js/54.69d5ba43.js"><link rel="prefetch" href="/assets/js/55.496f36cc.js"><link rel="prefetch" href="/assets/js/56.f98a821f.js"><link rel="prefetch" href="/assets/js/57.bf2fdef7.js"><link rel="prefetch" href="/assets/js/58.f208592f.js"><link rel="prefetch" href="/assets/js/59.a1cf2460.js"><link rel="prefetch" href="/assets/js/6.75834963.js"><link rel="prefetch" href="/assets/js/60.59aefd15.js"><link rel="prefetch" href="/assets/js/7.0929d87c.js"><link rel="prefetch" href="/assets/js/8.66ffbfac.js"><link rel="prefetch" href="/assets/js/9.5e86fdd3.js">
    <link rel="stylesheet" href="/assets/css/0.styles.b4782a24.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Vocdoni</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/architecture/general.html" class="nav-link">
  Architecture
</a></div><div class="nav-item"><a href="https://blog.vocdoni.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/about-us/vision.html" class="nav-link">
  About us
</a></div><div class="nav-item"><a href="https://discord.gg/sQCxgYs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/architecture/general.html" class="nav-link">
  Architecture
</a></div><div class="nav-item"><a href="https://blog.vocdoni.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="/about-us/vision.html" class="nav-link">
  About us
</a></div><div class="nav-item"><a href="https://discord.gg/sQCxgYs" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Discord
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/architecture/general" class="sidebar-heading clickable open"><span>Architecture</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/architecture/general.html" class="sidebar-link">Global Architecture</a></li><li><a href="/architecture/process-overview.html" class="sidebar-link">Process Overview</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/architecture/census/census-overview" class="sidebar-heading clickable"><span>The Census</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/architecture/components.html" class="sidebar-link">Component Overview</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/architecture/smart-contracts/entity-resolver" class="sidebar-heading clickable"><span>Smart Contracts</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/architecture/services/gateway" class="sidebar-heading clickable open"><span>Services</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/architecture/services/gateway.html" class="sidebar-link">Gateway</a></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><a href="/architecture/services/vochain" class="sidebar-heading clickable open active"><span>Vochain</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/architecture/services/vochain.html" aria-current="page" class="active sidebar-link">Vochain</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/architecture/services/vochain.html#overall" class="sidebar-link">Overall</a></li><li class="sidebar-sub-header"><a href="/architecture/services/vochain.html#how-it-works" class="sidebar-link">How it works</a></li><li class="sidebar-sub-header"><a href="/architecture/services/vochain.html#transaction-data-schemas" class="sidebar-link">Transaction Data Schemas</a></li><li class="sidebar-sub-header"><a href="/architecture/services/vochain.html#special-actors" class="sidebar-link">Special actors</a></li><li class="sidebar-sub-header"><a href="/architecture/services/vochain.html#transaction-lifecycle" class="sidebar-link">Transaction lifecycle</a></li></ul></li><li><a href="/architecture/services/vochain/indexer.html" class="sidebar-link">Indexer</a></li><li><a href="/architecture/services/vochain/evm-less-vochain.html" class="sidebar-link">EVM-less Vochain</a></li></ul></section></li><li><a href="/architecture/services/census-service.html" class="sidebar-link">Census Service</a></li><li><a href="/architecture/services/bootnode.html" class="sidebar-link">Boot node</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/architecture/data-schemes/entity-metadata" class="sidebar-heading clickable"><span>Data Schemes</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/architecture/protocol/json-api" class="sidebar-heading clickable"><span>Protocol</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/architecture/component-interaction.html" class="sidebar-link">Component Interaction</a></li><li><a href="/architecture/libraries-tooling.html" class="sidebar-link">Libraries and Tooling</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/integration/overview" class="sidebar-heading clickable"><span>Integration</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/integration/overview.html" class="sidebar-link">Overview</a></li><li><a href="/integration/getting-started-local-vochain.html" class="sidebar-link">Getting started with a local instance</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/integration/vaas-api" class="sidebar-heading clickable"><span>Voting as a Service</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/integration/manual-integration.html" class="sidebar-link">Manual Integration</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><a href="/integration/census/general" class="sidebar-heading clickable"><span>Census</span> <span class="arrow right"></span></a> <!----></section></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/deployment/gateway" class="sidebar-heading clickable"><span>Deployment</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/deployment/gateway.html" class="sidebar-link">Gateway Deployment (stage)</a></li><li><a href="/deployment/miner.html" class="sidebar-link">Miner Deployment</a></li><li><a href="/deployment/oracle.html" class="sidebar-link">Oracle Deployment (stage)</a></li><li><a href="/deployment/custom-vochain.html" class="sidebar-link">Custom Vochain Deployment</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/about-us/vision" class="sidebar-heading clickable"><span>About</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/about-us/vision.html" class="sidebar-link">Vision</a></li><li><a href="/about-us/how-we-work.html" class="sidebar-link">How We Work</a></li><li><section class="sidebar-group is-sub-group depth-1"><a href="/about-us/development-guidelines" class="sidebar-heading clickable"><span>Development Guidelines</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/about-us/development-guidelines.html" class="sidebar-link">Development guidelines</a></li><li><a href="/about-us/repository-branching.html" class="sidebar-link">Repository and branching guidelines</a></li></ul></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vochain"><a href="#vochain" class="header-anchor">#</a> Vochain</h1> <p>Vochain is a <em>Proof-of-Authority</em> blockchain network that uses <a href="https://tendermint.com/" target="_blank" rel="noopener noreferrer">Tendermint<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> as its consensus algorithm. The main purpose of Vochain is to register polls, votes, and backing processes in a decentralized and verifiable way.</p> <p>You can think of Vochain as a specific purpose blockchain for voting. Vochain needs no cryptocurrency, gas or smart contract interactions; it just has the core logic represented as a state machine that any participation process needs to follow.</p> <h2 id="overall"><a href="#overall" class="header-anchor">#</a> Overall</h2> <p>Many Vochains could exist, some might be ephemeral and others might be permanent.
It is important to mention that the details of each Vochain are indexed on the Ethereum blockchain.</p> <p>Vocdoni uses Ethereum as the source of truth. This has several advantages, like having a versioning system for each blockchain and being able to prune legacy processes and leaving only a hash representing all the history. We can also use <em>interchain</em> communication in order to pass messages between blockchains and trigger certain actions.</p> <div style="padding:20px;background-color:white;"><img src="/vochain-overall.png" alt="Vochain overall architecture"></div> <p>For the current version, only one Vochain exists, which handles all processes.</p> <h2 id="how-it-works"><a href="#how-it-works" class="header-anchor">#</a> How it works</h2> <p>The nicest thing about Tendermint is that its <a href="https://docs.tendermint.com/" target="_blank" rel="noopener noreferrer">core<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> handles the network and consensus layers, so you only need to implement the logic of the application. This is, the state machine itself.</p> <p>What does the state machine have to accomplish?</p> <ul><li>Creation of a voting process</li> <li>Cancellation of an existing voting process</li> <li>Vote casting</li> <li>Vote accounting</li> <li>Process accounting and validation</li></ul> <p>Imagine a regular voting process. You first need to identify yourself to know if you have the right to participate. Then you visit your physical/digital polling station to cast your vote. Once done, at some point the process finishes and the votes are counted one by one.</p> <p>Vochain does exactly the same, plus storing the processes.</p> <p>The workflow from creating a process, voting, and finalizing the process, is:</p> <ul><li>The basic info for starting a process lives in the Ethereum Mainnet or any other valid source.</li> <li>A trusted oracle will see this new information and will send a <code>newProcessTx</code> transaction to the Tendermint blockchain in order to add the new process, identified by <code>processId</code>.</li> <li>Once the process starts at some block (<code>startBlock</code>), any person/organization who is in the entity census can cast a <code>voteTx</code> vote from their smartphone.</li> <li>The vote is sent to a fullnode gateway, and at some point it will be added to the Tendermint blockchain (if it complies with the requirements, such as being a valid vote from a valid ID included in the census of a valid entity).</li> <li>Once the process is finished (by number of blocks) no more votes can be casted for the specific <code>processId</code></li> <li>At this point the whole process can be accounted and verified, and will live in the blockchain.</li></ul> <p>Vochain also has some special transactions for oracles, which allow them to:</p> <ul><li>Update the Tendermint validator list: <code>AdminTx: Add/Remove Validator</code></li> <li>Add or remove the trusted oracle list: <code>AdminTx: Add/Remove Oracle</code> (the ones who can communicate with both Ethereum and Tendermint)</li> <li>Cancel an already existing voting process created by an entity: <code>cancelProcessTx</code></li></ul> <p>A minimum of N/M oracle transactions are required in order to execute some functions (such as the ones below).</p> <h2 id="transaction-data-schemas"><a href="#transaction-data-schemas" class="header-anchor">#</a> Transaction Data Schemas</h2> <p>The following are data payloads that are packaged by a client app or an oracle, to be eventually persisted.</p> <p><strong>Valid messages and args</strong></p> <ul><li><code>Create a process</code></li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;entityId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x1234&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mkRoot&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x1234&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mkUri&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ipfs://Qmp1234&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;numberOfBlocks&quot;</span><span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span>
    <span class="token property">&quot;processId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x1234&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;processType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;processType&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;signature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oracle signature&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;startBlock&quot;</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;newProcess&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>Cancel a process</code></li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;processId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x1234&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;signature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oracle signature&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;cancelProcess&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>Submit an envelope to an on-going process</code></li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;nonce&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x1234&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;nullifier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x1234&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;processId&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x1234&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;proof&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x1234&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;encryptionKeyIndexes&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;signature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;voter signature&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vote&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;votePackage&quot;</span><span class="token operator">:</span> <span class="token string">&quot;the envelope itself encoded in b64&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>Add an oracle</code></li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x1234&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;nonce&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x1234&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;signature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oracle signature&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;addOracle&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>Remove an oracle</code></li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x1234&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;nonce&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x1234&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;signature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oracle signature&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;removeOracle&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>Add a validator</code></li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x1234&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;nonce&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x1234&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;power&quot;</span><span class="token operator">:</span> <span class="token string">&quot;10&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;signature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oracle signature&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;addValidator&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li><code>Remove a validator</code></li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
    <span class="token property">&quot;address&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x1234&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;nonce&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0x1234&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;signature&quot;</span><span class="token operator">:</span> <span class="token string">&quot;oracle signature&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;removeValidator&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>The data stored in Ethereum lives in a <a href="/architecture/smart-contracts/namespace">smart contract</a></p> <h2 id="special-actors"><a href="#special-actors" class="header-anchor">#</a> Special actors</h2> <div style="padding:20px;background-color:white;"><img src="/vochain-actors.png" alt="Vochain actors"></div> <h3 id="miner"><a href="#miner" class="header-anchor">#</a> Miner</h3> <p>As any other blockchain, Vochain requires a set of nodes able to include new transactions on the chain that will modify the state.
However all nodes of the network (miners or not) will execute the same transactions in the same way the miner does, so if there is something that does not follow the rules implemented on the Vochain logic, a new state will be computed and the chain will diverge (fork).</p> <p>Currently as Vochain is proof-of-authority, only a set of nodes will be able to propose and include new blocks on the blockchain. These nodes (identified by a public key) are listed in the genesis file (the initial set) and later the list can be modified by executing the required transactions for doing so.</p> <p>In the future, miners would get reward for validating new blocks and they would also be required to keep an economic stake on Ethereum in order to demonstrate its commitment for good behavior.</p> <h3 id="oracle"><a href="#oracle" class="header-anchor">#</a> Oracle</h3> <p>The Oracle is a trusted identity that enables bidirectional communication between Vochain-like blockchains and specific-process smart contracts living in Ethereum. Specifically, the oracle is a full node within both  ethereum and tendermint, and also acts as a decentralized storage machine which enables Vochain and Ethereum events reading. The events are:</p> <ul><li>A new process is created.</li> <li>An existing process is canceled.</li> <li>An oracle address is added.</li> <li>An oracle address is removed.</li> <li>A tendermint miner address is added.</li> <li>A tendermint miner address is removed.</li> <li>The vochain genesis has changed.</li> <li>The encryption private key for a process is published.</li> <li>The results of a process are published.</li> <li>... more events comming with new features</li></ul> <h3 id="keykeeper"><a href="#keykeeper" class="header-anchor">#</a> KeyKeeper</h3> <p>The KeyKeeper is a trusted identity that act as temporary cryptographic key administrators. If an election is private or anonymous, keykeepers initially publish an addProcessKey transaction with a set of newly generated keys. At the end of the voting process, these keys will be revealed through a revealProcessKey transaction. As long as at least one keykeeper maintains integrity, no keykeepers will be able to act against the system’s specifications, maliciously or otherwise.</p> <h3 id="scrutinizer"><a href="#scrutinizer" class="header-anchor">#</a> Scrutinizer</h3> <p>The scrutinizer is the component that tallies and decode/decrypt (if needed) each vote stored in the voting blockchain for each process of each entity.</p> <p>See the <a href="/architecture/services/vochain/scrutinizer">Scrutinizer</a> section.</p> <h2 id="transaction-lifecycle"><a href="#transaction-lifecycle" class="header-anchor">#</a> Transaction lifecycle</h2> <p>In the following diagram the vote transaction lifecycle is shown. CheckTX, DeliverTX and Commit are the main steps of the Vochain. The first decides if a new transaction should be included in the mempool (and broadcasted to other peers), the second decides if a transaction that is going to be included in the next block is valid and the last makes the changes permanent and updates the state.</p> <div style="padding:20px;background-color:white;"><img src="/vochain-transaction-lifecycle.png" alt="Vochain transaction cycle"></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">7/14/2021, 5:32:34 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/architecture/services/gateway.html" class="prev">
        Gateway
      </a></span> <span class="next"><a href="/architecture/services/vochain/indexer.html">
        Indexer
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.003a3fab.js" defer></script><script src="/assets/js/2.d75a9e61.js" defer></script><script src="/assets/js/33.ee83017b.js" defer></script>
  </body>
</html>
